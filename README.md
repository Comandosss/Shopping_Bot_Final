# –ü—Ä–æ–µ–∫—Ç ShoppingBot (–¥–∏–ø–ª–æ–º–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –õ–¢–õ)

ShoppingBot - —Ç–µ–ª–µ–≥—Ä–∞–º–º-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ–ª–≥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≤–µ—á–µ—Ä–∏–Ω–∫–∏.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å github (`git clone`)
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`python -m venv env`)
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `pip install -r requirements.txt`
4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `settings.py` –≤ –ø–∞–ø–∫–µ `setting_box`
5. –í–ø–∏—à–∏—Ç–µ –≤ `settings.py` —Å–ª–µ–¥—É—é—â–µ–µ:
```
CLIENT_SECRET = 'IyvrAbKt9h/8p6a7QPh8gpkXYQ4=' - –µ–¥–∏–Ω—ã–π –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ –º–æ–¥—É–ª—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –§–ù–°
API_KEY = `–∫–ª—é—á –æ—Ç —Ç–µ–ª–µ–≥—Ä–∞–º–º-–±–æ—Ç–∞`
URL = `—Å—Å—ã–ª–∫–∞ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö`
BOT_ANSWERS = [
    '–ü—Ä–∏—à–ª–∏ —á–µ–∫ –∏ –æ–Ω–∏ –∑–∞–ø–ª–∞—Ç—è—Ç –∑–∞ —ç—Ç–æ üíµ.',
    '–í—Ä–µ–º—è –ø–ª–∞—Ç–∏—Ç—å –ø–æ —Å—á–µ—Ç–∞–º ‚öñÔ∏è.\n–°–∫–∏–¥—ã–≤–∞–π —á–µ–∫.',
    '–ì–∞–¥–∞—é –ø–æ —á–µ–∫—É üîÆ.\n–û—Ç–ø—Ä–∞–≤—å –µ–≥–æ –∏ —è –≤—Å–µ —Ç–µ–±–µ —Ä–∞—Å—Å–∫–∞–∂—É',
    '–¢—ã –¥–æ–ª–≥–æ –∂–¥–∞–ª, —á–∞—Å —Ä–∞—Å–ø–ª–∞—Ç—ã –Ω–∞—Å—Ç–∞–ª ‚åõ.\n–û—Ç–ø—Ä–∞–≤–ª—è–π —á–µ–∫',
    ]
MAIN_MENU = 0
ACTIONS_WITH_THE_RECEIPT = 1
MENU_RECEIPT = 2
ADD_CHECK = 3
PHONE_NUMBER = 4
CODE = 5
RECEIPT_DEBTORS = 6
HEADERS = {
    'Host': 'irkkt-mobile.nalog.ru:8888',
    'Accept': '*/*',
    'Device-OS': 'iOS',
    'Device-Id': '7C82010F-16CC-446B-8F66-FC4080C66521',
    'clientVersion': '2.9.0',
    'Accept-Language': 'ru-RU;q=1, en-US;q=0.9',
    'User-Agent': 'billchecker/2.9.0 (iPhone; iOS 13.6; Scale/2.00)',
}
NALOG_URL = 'irkkt-mobile.nalog.ru:8888/v2'
SECRET_KEY = '–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Flask'
SQLALCHEMY_TRACK_MODIFICATIONS = False
SQLALCHEMY_DATABASE_URI = `—Å—Å–ª—ã–∫–∞ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö`
```
6. –í –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ main_server.py (`python main_server.py`)
7. –í–æ –≤—Ç–æ—Ä–æ–π –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ main_tg_bot.py (`python main_tg_bot.py`)

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/start` –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—â–µ–Ω–∏—è —Å –±–æ—Ç–æ–º.
2. –°—Ä–∞–∑—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –ø–æ–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –µ–≥–æ –ø—É—Ç–µ–º –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É `–ü—Ä–∏–≤–µ—Ç!`
3. –î–∞–ª–µ–µ –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:

![–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é](https://raw.githubusercontent.com/Vladislav-opto/Shopping_Bot_Final/main/images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA3.PNG)

4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –≤ –º–µ–Ω—é —Ä–∞–±–æ—Ç—ã —Å —á–µ–∫–∞–º–∏ –∏ –¥–æ–±–∞–≤–∏—Ç—å —á–µ–∫, —Å–ª–µ–¥—É—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –æ—Ç –±–æ—Ç–∞.

![–†–∞–±–æ—Ç–∞ —Å —á–µ–∫–∞–º–∏](https://raw.githubusercontent.com/Vladislav-opto/Shopping_Bot_Final/main/images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA1.PNG)

5. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ä–∞–Ω–µ–µ —Å–æ–æ–±—â–∏–ª–∏ –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–æ –æ–Ω –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –∫–Ω–æ–ø–∫—É "–£ –º–µ–Ω—è –µ—Å—Ç—å –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏". –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –µ–º—É –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç–µ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–Ω –ù–ï –ü–û–õ–¨–ó–û–í–ê–õ–°–Ø –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏.

![–í–µ–±-—Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏](https://raw.githubusercontent.com/Vladislav-opto/Shopping_Bot_Final/main/images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA5.PNG)

5.1. –í —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–Ω –ù–ï –ü–û–õ–¨–ó–û–í–ê–õ–°–Ø.
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ - –Ω–∞ —Å–∞–π—Ç–µ –≤—ã–≤–æ–¥—è—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ —á–µ–∫–µ.

![–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π](https://raw.githubusercontent.com/Vladislav-opto/Shopping_Bot_Final/main/images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA6.PNG)

6. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∂–µ–ª–∞–µ—Ç —É–∑–Ω–∞—Ç—å –¥–æ–ª–≥–∏ –ø–æ —á–µ–∫—É, —Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∞—Ç—å –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –∫–Ω–æ–ø–∫—É "–•–æ—á—É —É–∑–Ω–∞—Ç—å –∫—Ç–æ —Å–∫–æ–ª—å–∫–æ –¥–æ–ª–∂–µ–Ω".
–ù–∞ —á—Ç–æ –æ–Ω —É–≤–∏–¥–∏—Ç –æ—Ç–≤–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞ –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤–µ—á–µ—Ä–∏–Ω–∫–∏ –∏ –∏—Ö –¥–æ–ª–≥–∞.
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ - –±–æ—Ç —Å–æ–æ–±—â–∞–µ—Ç –¥–æ–ª–≥–∏, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—è –∏—Ö –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–≤—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —Å–∞–π—Ç–µ.

![–î–æ–ª–≥](https://raw.githubusercontent.com/Vladislav-opto/Shopping_Bot_Final/main/images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA4.PNG)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ–µ–∫—Ç–µ (–¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏)

![–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](https://raw.githubusercontent.com/Vladislav-opto/Shopping_Bot_Final/main/images/db_image.jpg)
